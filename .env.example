# ══════════════════════════════════════════════════════════
# PANIC Pasta — Environment Variables
# ══════════════════════════════════════════════════════════
# Copy this file to .env.development.local (for dev) or
# .env.production.local (for prod/Vercel).
#
# Next.js loads env files in this order:
#   .env                         ← shared defaults (committed)
#   .env.development             ← dev defaults (committed)
#   .env.production              ← prod defaults (committed)
#   .env.local                   ← local overrides (gitignored)
#   .env.development.local       ← dev secrets (gitignored)
#   .env.production.local        ← prod secrets (gitignored)
# ══════════════════════════════════════════════════════════

# --- App ---
NEXT_PUBLIC_APP_URL=http://localhost:3000  # Dev: http://localhost:3000 | Prod: https://panicpasta.com

# --- Auth / NextAuth ---
NEXTAUTH_URL=http://localhost:3000         # Dev: http://localhost:3000 | Prod: https://panicpasta.com
NEXTAUTH_SECRET=                           # Generate: openssl rand -base64 32

ENABLE_GOOGLE_OAUTH=false                  # Set to "true" to enable Google OAuth (requires GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET)
GOOGLE_CLIENT_ID=                          # Google Cloud Console → OAuth 2.0 credentials
GOOGLE_CLIENT_SECRET=                      # (use separate dev/prod OAuth apps)

EMAIL_SERVER_HOST=                         # e.g. smtp.resend.com
EMAIL_SERVER_PORT=465
EMAIL_SERVER_USER=resend
EMAIL_SERVER_PASSWORD=                     # Resend API key
EMAIL_FROM="PANIC Pasta <no-reply@panicpasta.com>"

# --- Database (Supabase-hosted Postgres) ---
# Connection pooling via PgBouncer (used by app at runtime)
DATABASE_URL=                              # postgresql://postgres.[ref]:[password]@aws-1-[region].pooler.supabase.com:6543/postgres?pgbouncer=true
# Direct connection (used for Prisma migrations only)
DIRECT_URL=                                # postgresql://postgres.[ref]:[password]@aws-1-[region].pooler.supabase.com:5432/postgres

# --- Stripe ---
STRIPE_SECRET_KEY=                         # Dev: sk_test_... | Prod: sk_live_...
STRIPE_WEBHOOK_SECRET=                     # Dev: whsec_... (from Stripe CLI) | Prod: whsec_... (from dashboard)
STRIPE_PRO_PRICE_ID=                       # Dev: price_test_... | Prod: price_live_...

# --- LLM ---
LLM_MODEL=gpt-4o-mini
LLM_API_KEY=                               # OpenAI API key (same for dev/prod, or use separate)
LLM_MAX_TOKENS=4096

# --- Tier Limits (configurable) ---
PLAN_DAILY_LIMIT_FREE=1
PLAN_DAILY_LIMIT_PRO=3
PLAN_MAX_DAYS_FREE=3
PLAN_MAX_DAYS_PRO=30
MEMBERS_MAX_FREE=3
MEMBERS_MAX_PRO=6

# --- Rate Limiting ---
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=30
